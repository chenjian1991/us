$(function(){window.onload=function(){var t=new Swiper("#tabs-container",{initialSlide:0,speed:500,simulateTouch:!1,on:{slideChangeTransitionStart:function(){$(".tab-panel .active").removeClass("active"),$(".tab-panel a").eq(this.activeIndex).addClass("active")}}});$(".tab-panel a").on("click",function(e){e.preventDefault(),$(".tab-panel .active").removeClass("active"),$(this).addClass("active"),t.slideTo($(this).index())})},$(".hide-btn").click(function(){$(this).find(".slide-ball").hasClass("ball-animate")?($(this).find(".track").css("background-color","#ccc"),$(this).find(".slide-ball").removeClass("ball-animate")):($(this).find(".track").css("background-color","#5a6cb1"),$(this).find(".slide-ball").addClass("ball-animate"))}),$(".ball img").attr("src","../static/web/images_new/gray.png");var i=$(".push-level span").text();$(".ball").each(function(e,t){$(this).find("span").text()==i&&$(this).find("img").attr("src","../static/web/images_new/yellow.png")})}),loginToken||(window.location.href="../exchange/b11/index.html#/login");var ssoProvider={getSsoToken:function(e){e(loginToken)}},exchange=new Exchange(ssoProvider),quote=new Quote,market=new Market,BTCUSDT=0,ETHUSDT=0,symbolLast={},symbolList=[],currencyPrecision={},haltSymbol={},flag=!1;function deposit(e){window.location.href="deposit.html?symbol="+$(e).attr("data-symbol")}function withdrawal(e){window.location.href="withdrawal.html?symbol="+$(e).attr("data-symbol")}function trade(e){window.location.href="../exchange/b11/index.html#/exchange?symbol="+$(e).text().replace("/","")}function show(e){$(e).find(".quote-list").removeClass("dis-n")}function hide(e){$(e).find(".quote-list").addClass("dis-n")}exchange.queryAccountInfo(function(e){"RESTRICTED"===e.accountStatus&&(flag=!0)}),exchange.getSymbolList(function(e){$.each(e,function(e,t){symbolList.push({baseAsset:t.baseAsset,quoteAsset:t.quoteAsset,symbol:t.symbol}),"HALT"==t.status&&null==t.nextStatusAt&&null==t.nextStatus&&(haltSymbol[t.baseAsset]=t.quoteAsset)}),exchange.getCurrencyList(function(e){var n="",l=[];$.each(e,function(e,t){if(n=n+t.currency+",",1==flag){t.tradeStatus=!1;var i=t.currency;t.quoteLists=[],currencyPrecision[i]=t.currencyPrecision;for(var a=0;a<symbolList.length;a++)i==symbolList[a].baseAsset&&(haltSymbol[i]||(t.tradeStatus=!0,t.quoteLists.push({symbol:symbolList[a].quoteAsset})),l.push(symbolList[a].symbol));t.tradeStatus=!1,t.depositStatus=!1,t.withdrawStatus=!1}else{for(i=t.currency,t.quoteLists=[],t.tradeStatus=!1,currencyPrecision[i]=t.currencyPrecision,a=0;a<symbolList.length;a++)i==symbolList[a].baseAsset&&(haltSymbol[i]||(t.tradeStatus=!0,t.quoteLists.push({symbol:symbolList[a].quoteAsset})),l.push(symbolList[a].symbol));switch("USDT"==i&&"USDT"!=haltSymbol.BTC&&(t.tradeStatus=!0),t.status){case"DEPOSIT_NOT_WITHDRAW":t.depositStatus=!0,t.withdrawStatus=!1;break;case"NOT_DEPOSIT_WITHDRAW":t.depositStatus=!1,t.withdrawStatus=!0;break;case"NOT_DEPOSIT_NOT_WITHDRAW":t.withdrawStatus=!1,t.depositStatus=!1;break;default:t.withdrawStatus=!0,t.depositStatus=!0}}}),$("#list").tmpl(e).appendTo("#currency_list"),layerInternational();var t=$(".content").height();content==t?content=46*e.length+283:content=$(".content").height(),resize(content),$("#USDT .a-btn-trade").attr("href","../exchange/b11/index.html#/exchange?symbol=BTCUSDT"),0!=l.length&&quote.getRealTimeAll({symbol:l},function(e){$.each(e,function(e,t){var i=t.data;i&&("BTCUSDT"==e?BTCUSDT=i.last:"ETHUSDT"==e&&(ETHUSDT=i.last),symbolLast[e]=i.last)}),exchange.balance(function(e){if(0!=e.length){var u=0,S=0;$.each(e,function(e,t){var i=t.currency;console.log(i);var a=currencyPrecision[i],n=new BigDecimal(transferNumber(t.available,a)).add(new BigDecimal(transferNumber(t.frozen,a))).toString();if($("#"+i).find(".available").text(transferNumber(t.available,a)),$("#"+i).find(".frozen").text(transferNumber(t.frozen,a)),$("#"+i).find(".total").text(n),"USDT"==i){if($("#"+i).find(".USD").text(keepDecimals(n,2)),u=new BigDecimal(u.toString()).add(new BigDecimal(n)).toString(),BTCUSDT){var l=new BigDecimal(n).divide(new BigDecimal(BTCUSDT.toString())).toString();S=new BigDecimal(S.toString()).add(new BigDecimal(keepDecimals(l,8))).toString()}}else if("BTC"==i){S=new BigDecimal(S.toString()).add(new BigDecimal(n)).toString();var s=new BigDecimal(n).multiply(new BigDecimal(BTCUSDT.toString())).toString();$("#"+i).find(".USD").text(keepDecimals(s,2)),u=new BigDecimal(u.toString()).add(new BigDecimal(keepDecimals(s,8))).toString()}else{var c=symbolLast[i+"USDT"],o=symbolLast[i+"BTC"],r=symbolLast[i+"ETH"];if(c&&o){var m=new BigDecimal(n).multiply(new BigDecimal(c.toString()));$("#"+i).find(".USD").text(keepDecimals(m,2)),u=new BigDecimal(u.toString()).add(new BigDecimal(keepDecimals(m,2))).toString();var g=new BigDecimal(keepDecimals(n,8)).multiply(new BigDecimal(o.toString()));S=new BigDecimal(S.toString()).add(new BigDecimal(keepDecimals(g,8))).toString()}else if(c&&!o)m=new BigDecimal(keepDecimals(n,8)).multiply(new BigDecimal(c.toString())),$("#"+i).find(".USD").text(keepDecimals(m,2)),u=new BigDecimal(u.toString()).add(new BigDecimal(keepDecimals(m,2))).toString(),BTCUSDT&&(l=new BigDecimal(keepDecimals(m,8)).divide(new BigDecimal(BTCUSDT.toString())),S=new BigDecimal(S.toString()).add(new BigDecimal(keepDecimals(l,8))).toString());else if(!c&&o)g=new BigDecimal(n).multiply(new BigDecimal(o.toString())),S=new BigDecimal(S.toString()).add(new BigDecimal(keepDecimals(g,8))).toString(),m=new BigDecimal(keepDecimals(g,8)).multiply(new BigDecimal(BTCUSDT.toString())),$("#"+i).find(".USD").text(keepDecimals(m,2)),u=new BigDecimal(u.toString()).add(new BigDecimal(keepDecimals(m,2))).toString();else if(!c&&!o&&r){var d=new BigDecimal(keepDecimals(n,8)).multiply(new BigDecimal(r.toString()));if(ETHUSDT){var D=new BigDecimal(keepDecimals(d,8)).multiply(new BigDecimal(ETHUSDT.toString()));$("#"+i).find(".USD").text(keepDecimals(D,2)),u=new BigDecimal(u.toString()).add(new BigDecimal(keepDecimals(D,8))).toString()}BTCUSDT&&(l=new BigDecimal(keepDecimals(D,8)).divide(new BigDecimal(BTCUSDT.toString())),S=new BigDecimal(S.toString()).add(new BigDecimal(keepDecimals(l,8))).toString())}}}),$("#totalUSDT").text(transferNumber(u,2)),$("#totalBTC").text(transferNumber(S,8))}})}),market.getCurrencyInfo(n.slice(0,-1),function(e){$.each(e,function(e,t){var i=t.currency;$("#currency_list #"+i+" td img").attr("src",t.projectInfo.image)})})})}),$(document).ready(function(){importHeaderFooter(),navigation("nav8"),layerInternational(),labelName()});