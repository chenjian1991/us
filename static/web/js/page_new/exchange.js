$(function(){$("input").focus(function(){$("input").removeClass("input-empty-color")})});var url_search=window.location.search.slice(8),base_asset=url_search.slice(0,url_search.indexOf("_")),quote_asset=url_search.slice(url_search.indexOf("_")+1);$(".baseAsset").text(base_asset),$(".quoteAsset").text(quote_asset);var symbol=base_asset+quote_asset,active=void 0;switch(quote_asset){case"USDT":active=0;break;case"BTC":active=1;break;case"ETH":active=2}0==active&&$(".tab-panel a").eq(0).addClass("li-active");var tabsSwiper=new Swiper("#tabs-container",{initialSlide:active,speed:500,simulateTouch:!1,on:{slideChangeTransitionStart:function(){$(".tab-panel .li-active").removeClass("li-active"),$(".tab-panel a").eq(this.activeIndex).addClass("li-active")}}});$(".tab-panel a").on("click",function(e){e.preventDefault(),$(".tab-panel .li-active").removeClass("li-active"),$(this).addClass("li-active"),tabsSwiper.slideTo($(this).index())});var ssoProvider={},exchange=new Exchange(ssoProvider),sso=new Sso,quote=new Quote;exchange.ssoProvider.getSsoToken=function(e){loginToken&&e(loginToken)};var pricePrecision=void 0,numPrecision=void 0,deal_orders=[],color=void 0,time=void 0,previousLast=void 0,baseAvailable=void 0,quoteAvailable=void 0,minPrice=void 0,maxPrice=void 0,minQuantity=void 0,maxQuantity=void 0,priceTickSize=void 0,quantityStepSize=void 0,status=void 0,previous=void 0,setTradePassword=!1,buyPercent=void 0,QuoteList=function(){this.Limit={},this.symbolArray=[],this.precision={}};loginToken?(sso.getUserInfo(loginToken,function(e){e.code||1==e.isSetTradePasswrod&&(setTradePassword=!0)}),exchange.queryAccountInfo(function(e){"RESTRICTED"===e.accountStatus?$(".restricted-btn").removeClass("dis-n"):$(".login-btn").removeClass("dis-n")}),$("#availableBase,#sell_available_volume,#availableQuote,#buy_available_volume").text(Number(0).toFixed(8)),baseAvailable=keepDecimals(0,8),quoteAvailable=keepDecimals(0,8)):$(".no-order,.un-login-btn").removeClass("dis-n"),QuoteList.prototype.getSymbolList=function(){var u=this;exchange.getSymbolList(function(e){if(e){var r=[],o=[],l=[];$.each(e,function(e,t){switch(u.symbolArray.push(t.symbol),t.quoteAsset){case"BTC":r.push(t);break;case"ETH":o.push(t);break;case"USDT":l.push(t)}if(t.pricePrecision=t.minPrice.toString().length-2,t.numPrecision=t.minQuantity.toString().length-2,u.precision[t.symbol]={pricePrecision:t.pricePrecision,numPrecision:t.numPrecision},t.symbol==symbol){if("HALT"==t.status&&null==t.nextStatusAt&&null==t.nextStatus)$(".buy-sell-btn").attr("disabled","true");else if("HALT"==t.status&&t.nextStatusAt&&"TRADING"==t.nextStatus&&t.nextStatusAt>(new Date).getTime()){$(".page-content").addClass("blur"),$("#count_down").removeClass("dis-n"),clearInterval(timer),clearInterval(tradingviewTime),$(".buy-sell-btn").attr("disabled","true");var a=t.nextStatusAt,n=window.setInterval(function(){var e,t,i,r,o;a<=(new Date).getTime()?clearInterval(n):(e=a-(new Date).getTime(),t=s(Math.floor(e/1e3/60/60/24)),i=s(Math.floor(e/1e3/60/60-24*t)),r=s(Math.floor(e/1e3/60-24*t*60-60*i)),o=s(Math.floor(e/1e3-24*t*60*60-60*i*60-60*r)),$("#day").html(t),$("#hour").html(i),$("#minute").html(r),$("#second").html(o))},1e3);function s(e){return 9<e?e:"0"+e}var i=setInterval(function(){if(t.nextStatusAt<=(new Date).getTime()){clearInterval(i);var e=setInterval(function(){jQuery.isEmptyObject(quoteList.Limit)||(clearInterval(e),pricePrecision=quoteList.Limit.pricePrecision,numPrecision=quoteList.Limit.numPrecision,function e(){setTimeout(function(){Cookies.get("loginToken")?quoteList.getOpenOrderList(function(){quoteList.getCompletedOrder(function(){quoteList.getBalance(function(){quoteList.getRealTimeTrailing(function(){quoteList.getRealTimeAll(function(){quoteList.getHandicap(function(){e()})})})})})}):quoteList.getRealTimeTrailing(function(){quoteList.getRealTimeAll(function(){quoteList.getHandicap(function(){e()})})})},1e3)}())},500);$(".page-content").removeClass("blur"),$("#count_down").addClass("dis-n"),$(".buy-sell-btn").removeAttr("disabled")}else loginToken&&(quoteList.getOpenOrderList(function(){}),quoteList.getCompletedOrder(function(){}),quoteList.getBalance(function(){})),quoteList.getRealTimeAll(function(){}),function e(){setTimeout(function(){Cookies.get("loginToken")?quoteList.getOpenOrderList(function(){quoteList.getCompletedOrder(function(){quoteList.getBalance(function(){quoteList.getRealTimeAll(function(){e()})})})}):quoteList.getRealTimeAll(function(){e()})},1e3)}()},1e3)}u.Limit=t,status=t.status,minPrice=t.minPrice,maxPrice=t.maxPrice,minQuantity=t.minQuantity,maxQuantity=t.maxQuantity,priceTickSize=t.priceTickSize,quantityStepSize=t.quantityStepSize,$("#buy_max_price,#sell_max_price").text(maxPrice),$("#buy_min_price,#sell_min_price").text(minPrice),$("#buy_min_volume,#sell_min_volume").text(minQuantity),$("#buy_max_volume,#sell_max_volume").text(maxQuantity),$("#buy_price_size,#sell_price_size").text(priceTickSize),$("#buy_volume_size,#sell_volume_size").text(quantityStepSize)}});var i=!1;$.each(quoteList.symbolArray,function(e,t){base_asset+quote_asset==t&&(i=!0)}),0==i&&(0<url_search.indexOf("&")?window.location.href="exchange.html?symbol="+url_search.slice(0,url_search.indexOf("&")):window.location.href="exchange.html?symbol=BTC_USDT"),$("#usdt-list").tmpl(l).appendTo("#USDT"),$("#btc-list").tmpl(r).appendTo("#BTC"),$("#eth-list").tmpl(o).appendTo("#ETH"),$(".item-content").click(function(){var e=$(this).attr("data-symbol-path");window.location.href="exchange.html?symbol="+e})}})},QuoteList.prototype.getRealTimeTrailing=function(n){quote.getRealTimeTrailing(symbol,21,function(e){if(e&&"SUCCESS"==e.status&&1<e.data.length){deal_orders.length=0;var t=e.data.reverse(),i=t[t.length-1].last,r=t[t.length-2].last;r<i?($(".current-price").css("color","#27a781"),$(".downArrow").addClass("dis-n"),$(".upArrow").removeClass("dis-n")):i<r?($(".current-price").css("color","#DC382C"),$(".upArrow").addClass("dis-n"),$(".downArrow").removeClass("dis-n")):($(".current-price").css("color","#666"),$(".upArrow,.downArrow").addClass("dis-n"));var o=0,a=t[0].last;$.each(t,function(e,t){color=t.last>o?"green":t.last<o?"red":color;var i=t.volume;t.volume=i-a,t.volume<0&&(t.volume=i),a=i,o=t.last,t.last=t.last.toFixed(pricePrecision),t.volume=t.volume.toFixed(numPrecision),t.dateTime=new Date(t.dateTime).toTimeString().slice(0,8),deal_orders.push({last:t.last,volume:t.volume,dateTime:t.dateTime,color:color})}),$(".deal-order-content").remove(),deal_orders=deal_orders.reverse().slice(0,deal_orders.length-1),$("#deal_order_list").tmpl(deal_orders).appendTo("#deal_table")}n()})},QuoteList.prototype.getRealTimeAll=function(t){var s=this,e={symbol:s.symbolArray};quote.getRealTimeAll(e,function(e){e&&$.each(e,function(t,e){var i=e.data;if(i){var r=i.last;previous=i.previousClose?i.previousClose:i.open;var o=new BigDecimal(r.toFixed(10).toString()),a=new BigDecimal(previous.toFixed(10).toString()),n=Number(o.subtract(a).divide(a).multiply(new BigDecimal("100")).toString());$(".coin-list ul").each(function(){var e=$(this).attr("data-symbol");if(t===e)return $(this).find(".price").html(r.toFixed(s.precision[t].pricePrecision)),0<n?(n="+"+n.toFixed(2),$(this).find(".precent").text(n+"%").css("color","#27a781"),t===symbol&&$("#change").text(n+"%").css("color","#27a781")):n<0?($(this).find(".precent").text(n.toFixed(2)+"%").css("color","#DC382C"),t===symbol&&$("#change").text(n.toFixed(2)+"%").css("color","#DC382C")):($(this).find(".precent").text("0.00%").css("color","#666"),t===symbol&&$("#change").text(n.toFixed(2)+"%").css("color","#666")),!1}),t===symbol&&($("#high").text(i.high.toFixed(pricePrecision)),$("#low").text(i.low.toFixed(pricePrecision)),$("#volume").text(i.volume.toFixed(numPrecision)),$(".current-price").text(r.toFixed(pricePrecision)),r?$("#title-price").text(r.toFixed(pricePrecision)+" | "+base_asset+"/"+quote_asset):$("#title-price").text(base_asset+"/"+quote_asset),time&&time!=i.dateTime&&(previousLast<r?($(".current-price").css("color","#27a781"),$(".downArrow").addClass("dis-n"),$(".upArrow").removeClass("dis-n")):r<previousLast?($(".current-price").css("color","#DC382C"),$(".upArrow").addClass("dis-n"),$(".downArrow").removeClass("dis-n")):($(".current-price").css("color","#666"),$(".upArrow").addClass("dis-n"),$(".downArrow").addClass("dis-n"))),previousLast=r,time=i.dateTime)}}),t()})},QuoteList.prototype.getHandicap=function(o){quote.getDepthList(symbol,function(e){if(e){var t=e.data,n=t.depthPeak,i=t.bids,s=[];0!=i.length?(5<i.length&&(i=i.slice(0,5)),$.each(i,function(e,t){t.price=t.price.toFixed(pricePrecision);var i=new BigDecimal(t.price.toString()),r=new BigDecimal(t.quantity.toString()),o=i.multiply(r).toString(),a=(Number(o)/Number(n)*($(".orders-body").width()-16)).toFixed(2);s.push({i:e+1,price:Number(i).toFixed(pricePrecision),quantity:Number(r).toFixed(numPrecision),total:Number(o).toFixed(numPrecision),width:a+"px"})}),$(".buy-order-lists").remove(),$("#buy_orders").tmpl(s).appendTo("#buy_orders_list"),layerInternational(),$(".buy-order-lists").click(function(){var e=$(this).attr("data-price");$("#sell_price").val(e)})):$(".buy-order-lists").remove();var r=t.asks,l=[];0!=r.length?(5<r.length?(r=r.slice(0,5),$("#sell_orders_list").css("padding-top",0)):$("#sell_orders_list").css("padding-top",28.5*(5-r.length)),$.each(r,function(e,t){var i=new BigDecimal(t.price.toString()),r=new BigDecimal(t.quantity.toString()),o=i.multiply(r).toString(),a=(Number(o)/Number(n)*($(".orders-body").width()-16)).toFixed(2);l.push({i:e+1,price:Number(i).toFixed(pricePrecision),quantity:Number(r).toFixed(numPrecision),total:Number(o).toFixed(numPrecision),width:a+"px"})}),$(".sell-order-lists").remove(),$("#sell_orders").tmpl(l.reverse()).appendTo("#sell_orders_list"),layerInternational(),$(".sell-order-lists").click(function(){var e=$(this).attr("data-price");$("#buy_price").val(e)})):$(".sell-order-lists").remove()}o()})},QuoteList.prototype.getOpenOrderList=function(t){var a=this;exchange.listOpenOrder(function(e){e&&(0!=e.length?($("#no_open_order").addClass("dis-n"),10<e.length&&(e=e.slice(0,10)),$.each(e,function(e,t){var i=a.precision[t.symbol].pricePrecision,r=a.precision[t.symbol].numPrecision;t.createdAt=transform_date(t.createdAt),t.limitPrice=keepDecimals(t.limitPrice,i),t.quantity=t.quantity.toFixed(r),t.filledCumulativeQuantity=t.filledCumulativeQuantity.toFixed(r),t.filled=(t.filledCumulativeQuantity/t.quantity*100).toFixed(2),t.total=keepDecimals(new BigDecimal(t.limitPrice.toString()).multiply(new BigDecimal(t.quantity.toString())).toString(),8);var o=t.symbol.slice(-3);switch(o){case"BTC":case"ETH":t.symbol=t.symbol.slice(0,-3)+"/"+o;break;default:t.symbol=t.symbol.slice(0,-4)+"/"+t.symbol.slice(-4)}}),$(".open-order-content").remove(),$("#open_order_list").tmpl(e).appendTo("#open_table"),layerInternational(),orderSideColor()):($(".open-order-content").remove(),$("#no_open_order").removeClass("dis-n"))),t()})},QuoteList.prototype.getCompletedOrder=function(i){var a=this;exchange.listCompletedOrder(1,function(e){if(e)if(0!=e.data.length){$("#no_history_order").addClass("dis-n");var t=e.data;$.each(t,function(e,t){var i=a.precision[t.symbol].pricePrecision,r=a.precision[t.symbol].numPrecision;t.createdAt=transform_date(t.createdAt),t.limitPrice=keepDecimals(t.limitPrice,i),t.quantity=t.quantity.toFixed(r),t.filledAveragePrice=keepDecimals(t.filledAveragePrice,i),t.filledCumulativeQuantity=t.filledCumulativeQuantity.toFixed(numPrecision),t.filled=(t.filledCumulativeQuantity/t.quantity*100).toFixed(2),t.total=keepDecimals(new BigDecimal(t.filledAveragePrice.toString()).multiply(new BigDecimal(t.quantity.toString())).toString(),8);var o=t.symbol.slice(-3);switch(o){case"BTC":case"ETH":t.symbol=t.symbol.slice(0,-3)+"/"+o;break;default:t.symbol=t.symbol.slice(0,-4)+"/"+t.symbol.slice(-4)}}),$(".history-order-content").remove(),$("#history_order_list").tmpl(t).appendTo("#complete_table"),layerInternational(),orderSideColor()}else $(".history-order-content").remove(),$("#no_history_order").removeClass("dis-n");i()})},QuoteList.prototype.getBalance=function(t){exchange.balance(function(e){e&&(0!=e.length?$.each(e,function(e,t){base_asset==t.currency&&($("#availableBase,#sell_available_volume").text(transferNumber(t.available,8)),baseAvailable=transferNumber(t.available,8),0===t.available&&($("#availableBase,#sell_available_volume").text(Number(0).toFixed(8)),$("#sell_btn").attr("disabled","true").css("cursor","default"))),quote_asset==t.currency&&($("#availableQuote,#buy_available_volume").text(transferNumber(t.available,8)),quoteAvailable=transferNumber(t.available,8),0===t.available&&($("#availableQuote,#buy_available_volume").text(Number(0).toFixed(8)),$("#buy_btn").attr("disabled","true").css("cursor","default")))}):$("#availableBase,#sell_available_volume,#availableQuote,#buy_available_volume").text(Number(0).toFixed(8))),t()})};var quoteList=new QuoteList;quoteList.getSymbolList();var timer=setInterval(function(){jQuery.isEmptyObject(quoteList.Limit)||(clearInterval(timer),pricePrecision=quoteList.Limit.pricePrecision,numPrecision=quoteList.Limit.numPrecision,loginToken&&(quoteList.getOpenOrderList(function(){}),quoteList.getCompletedOrder(function(){}),quoteList.getBalance(function(){})),quoteList.getRealTimeTrailing(function(){}),quoteList.getRealTimeAll(function(){}),quoteList.getHandicap(function(){}),function e(){setTimeout(function(){Cookies.get("loginToken")?quoteList.getOpenOrderList(function(){quoteList.getCompletedOrder(function(){quoteList.getBalance(function(){quoteList.getRealTimeTrailing(function(){quoteList.getRealTimeAll(function(){quoteList.getHandicap(function(){e()})})})})})}):quoteList.getRealTimeTrailing(function(){quoteList.getRealTimeAll(function(){quoteList.getHandicap(function(){e()})})})},1e3)}())},500),$buyPrice=$("#buy_price"),$buyQuantity=$("#buy_num"),$sellPrice=$("#sell_price"),$sellQuantity=$("#sell_num");function propertyChange(e,t){for(var i=e.target.value,r=e.target,o=i.length;0<o;o--){if(t.test(i.slice(0,o))){$("#buy_total").text(($buyPrice.val()*$buyQuantity.val()).toFixed(8)),$("#sell_total").text(($sellPrice.val()*$sellQuantity.val()).toFixed(8));break}if(0<chrome||0<firefox){if(getCursorPosition(r)<i.slice(0,o).length)return void $(r).val(i.slice(0,getCursorPosition(r)-1)+i.slice(getCursorPosition(r)));$(r).val(i.slice(0,o-1))}else 0<safari&&$(r).val(i.slice(0,o-1))}0==i.length&&($("#buy_total").text(Number(0).toFixed(8)),$("#sell_total").text(Number(0).toFixed(8))),/^\d/.test(i)||$(r).val("")}function propertyChangePrice(e,t){for(var i=e.target.value,r=e.target,o=i.length;0<o;o--){if(t.test(i.slice(0,o))){textBuyPercent(),$("#buy_total").text(($buyPrice.val()*$buyQuantity.val()).toFixed(8)),$("#sell_total").text(($sellPrice.val()*$sellQuantity.val()).toFixed(8));break}if(0<chrome||0<firefox){if(getCursorPosition(r)<i.slice(0,o).length)return $(r).val(i.slice(0,getCursorPosition(r)-1)+i.slice(getCursorPosition(r))),void textBuyPercent();$(r).val(i.slice(0,o-1)),textBuyPercent()}else 0<safari&&($(r).val(i.slice(0,o-1)),textBuyPercent())}0==i.length&&($("#buy_total").text(($buyPrice.val()*$buyQuantity.val()).toFixed(8)),$("#sell_total").text(($sellPrice.val()*$sellQuantity.val()).toFixed(8))),/^\d/.test(i)||$(r).val("")}function emptyPasswordInput(){$("input[data-attr='tradePassword']").val(""),$(".fakebox input").each(function(){$(this).val("")})}$("#buy_price").bind("input propertychange",function(e){var t=new RegExp("^\\d+(\\.)?\\d{0,"+pricePrecision+"}$");buyPercent&&t.test($buyPrice.val())&&0!=$buyPrice.val().trim()?propertyChangePrice(e,t):propertyChange(e,t)}),$("#buy_num").bind("input propertychange",function(e){propertyChange(e,new RegExp("^\\d+(\\.)?\\d{0,"+numPrecision+"}$"))}),$("#sell_price").bind("input propertychange",function(e){propertyChange(e,new RegExp("^\\d+(\\.)?\\d{0,"+pricePrecision+"}$"))}),$("#sell_num").bind("input propertychange",function(e){propertyChange(e,new RegExp("^\\d+(\\.)?\\d{0,"+numPrecision+"}$"))});var regExp=/^\d{0,6}$/;function textBuyPercent(){var e=new BigDecimal(quoteAvailable.toString()).divide(new BigDecimal($("#buy_price").val().toString())).toString(),t=new BigDecimal((.01*buyPercent).toString()).multiply(new BigDecimal(e.toString())).toString();$(".buy-panel #buy_num").val(transferNumber(t,numPrecision)),$("#buy_total").text(($("#buy_price").val()*transferNumber(t,numPrecision)).toFixed(8))}function orderComplete(){quoteList.getOpenOrderList(function(){}),quoteList.getCompletedOrder(function(){}),quoteList.getBalance(function(){}),quoteList.getHandicap(function(){}),quoteList.getRealTimeTrailing(function(){}),quoteList.getRealTimeAll(function(){})}$("input[data-attr='tradePassword']").bind("input propertychange",function(e){for(var t=this,i=e.target.value,r=$(".fakebox input"),o=i.length;0<o;o--)if(regExp.test(i.slice(0,o)))r.eq(o-1).val(i[o-1]);else if(0<chrome||0<firefox){if(getCursorPosition(t)<i.slice(0,o).length)return i=i.slice(0,getCursorPosition(t)-1)+i.slice(getCursorPosition(t)),$(t).val(i),void r.eq(o).val(i[o]);i=i.slice(0,o-1),$(t).val(i),r.eq(o).val(i[o])}else 0<safari&&(i=i.slice(0,o-1),$(t).val(i),r.eq(o).val(i[o]));r.each(function(){$(this).index()>=i.length&&$(this).val("")}),/^\d/.test(i)||($(this).val(""),r.eq(0).val(""))}),$(".ball").click(function(){$(this).siblings().text(""),$(this).html('<div class="active-ball"></div>');var o=this,a=new RegExp("^\\d+(\\.)?\\d{0,"+pricePrecision+"}$");function e(e,t){if("buy"==e)a.test($("#buy_price").val())&&0!=$("#buy_price").val().trim()&&(buyPercent=$(".buy-panel .range-num .num").eq($(o).index()).text(),textBuyPercent());else{var i=$(".sell-panel .range-num .num").eq($(o).index()).text(),r=new BigDecimal((.01*i).toString()).multiply(new BigDecimal(t.toString())).toString();$(".sell-panel #sell_num").val(transferNumber(r,numPrecision)),$("#sell_total").text(($("#sell_price").val()*transferNumber(r,numPrecision)).toFixed(8))}}"buy"==$(this).parent().attr("data-side")?e("buy",quoteAvailable):e("sell",baseAvailable)});var side=void 0;function buy(){side="buy",$(".error .prompt").addClass("dis-n");var e=$("#buy_price").val(),t=$("#buy_num").val();if(e.trim())if(t.trim()){e=Number(e),t=Number(t);var i=new BigDecimal(e.toString()).remainder(new BigDecimal(priceTickSize.toString())).toString(),r=new BigDecimal(t.toString()).remainder(new BigDecimal(quantityStepSize.toString())).toString();Number($("#buy_total").text())>Number(quoteAvailable)?showError("buy-available-volume"):e<minPrice?showError("buy-min-price"):maxPrice<e?showError("buy-max-price"):t<minQuantity?showError("buy-min-volume"):maxQuantity<t?showError("buy-max-volume"):0!=Number(i)?showError("buy-price-size"):0!=Number(r)?showError("buy-volume-size"):"HALT"==status?showError("account-error"):0==setTradePassword?(showError("no-password-error"),setTimeout(function(){window.location.href="../securityCenter/setTradingPassword.html"},1e3)):getValue("ORDER_SESSION")?($(".square input").val(""),exchange.createNewOrder({symbol:symbol,orderType:"LIMIT",orderSide:"BUY",quantity:t,limitPrice:e},function(e){e&&(orderComplete(),$("#order_success").fadeIn(500).fadeOut(2e3),$(".total-num").text("0.00000000"),$(".buy-sell-btn").css({disabled:"false"},{cursor:"pointer"}))})):alert_box()}else $("#buy_num").addClass("input-empty-color"),showError("buy-volume");else $("#buy_price").addClass("input-empty-color"),showError("buy-price")}function sell(){side="sell",$(".error .prompt").addClass("dis-n");var e=$("#sell_price").val(),t=$("#sell_num").val();if(e.trim())if(t.trim()){e=Number(e),t=Number(t);var i=new BigDecimal(e.toString()).remainder(new BigDecimal(priceTickSize.toString())).toString(),r=new BigDecimal(t.toString()).remainder(new BigDecimal(quantityStepSize.toString())).toString();e<minPrice?showError("sell-min-price"):maxPrice<e?showError("sell-max-price"):t<minQuantity?showError("sell-min-volume"):t>Number(baseAvailable)?showError("sell-available-volume"):maxQuantity<t?showError("sell-max-volume"):0!=Number(i)?showError("sell-price-size"):0!=Number(r)?showError("sell-volume-size"):"HALT"==status?showError("account-error"):0==setTradePassword?(showError("no-password-error"),setTimeout(function(){window.location.href="../securityCenter/setTradingPassword.html"},1e3)):getValue("ORDER_SESSION")?($(".square input").val(""),exchange.createNewOrder({symbol:symbol,orderType:"LIMIT",orderSide:"SELL",quantity:t,limitPrice:e},function(e){e&&(orderComplete(),$("#order_success").fadeIn(500).fadeOut(2e3),$(".total-num").text("0.00000000"),$(".buy-sell-btn").css({disabled:"false"},{cursor:"pointer"}))})):alert_box()}else $("#sell_num").addClass("input-empty-color"),showError("sell-volume");else $("#sell_price").addClass("input-empty-color"),showError("sell-price")}var orderID=void 0;function cancel(e){$(".error .prompt").addClass("dis-n"),side="cancel",orderID=$(e).parent().attr("data-order-id"),"HALT"==status?showError("account-error"):0==setTradePassword?(showError("no-password-error"),setTimeout(function(){window.location.href="../securityCenter/setTradingPassword.html"},1e3)):getValue("ORDER_SESSION")?exchange.cancelOrder(orderID,function(e){e&&(quoteList.getOpenOrderList(function(){}),quoteList.getBalance(function(){}),quoteList.getHandicap(function(){}))}):alert_box()}$(".confirm").click(function(){$(".error .prompt").addClass("dis-n");var e=$("input[data-attr='tradePassword']").val();!e.trim()||e.length<6?showError("password-error"):sso.issuedTradePassword(loginToken,e,function(e){e.code?(emptyPasswordInput(),textError(Sso.errorMessage[localStorage.getItem("countryLanguage")][e.code])):(hide_alert(),exchange.ssoProvider.getExtension=e.token,"cancel"==side?exchange.cancelOrder(orderID,function(e){e&&(hide_alert(),$("input").val(""),setTimeout(function(){quoteList.getOpenOrderList(function(){}),quoteList.getBalance(function(){})},500))}):($("."+side+"-sell-btn").css({disabled:"true"},{cursor:"default"}),emptyPasswordInput(),exchange.createNewOrder({symbol:symbol,orderType:"LIMIT",orderSide:side.toUpperCase(),quantity:$("#"+side+"_num").val(),limitPrice:$("#"+side+"_price").val()},function(e){e&&($("#order_success").fadeIn(500).fadeOut(2e3),$("input").val(""),$(".total-num").text("0.00000000"),$(".buy-sell-btn").css({disabled:"false"},{cursor:"pointer"}),setTimeout(function(){orderComplete()},500))})))})}),$("#close_icon,#close").click(function(){hide_alert(),emptyPasswordInput(),$(".error .prompt").addClass("dis-n")}),$(document).ready(function(){importHeaderFooter("nav2"),navigation("nav2"),sanCode(),layerInternational()});